{
    "title": "Publicatie",
    "$id": "https://openwoo.app/schemas/publicatie.schema.json",
    "$schema": "https://docs.commongateway.nl/schemas/Entity.schema.json",
    "version": "0.0.1",
    "type": "object",
    "description": "Het publicatie object vormt de kern van Open Index, het fungeert als een metadata wrapper voor objecten en vormt daarmee het gemeen schappenlijk verband tussen de verschillende publcaties uit bijvoorbeeld de WOO en OC.",
    "properties": {
        "id": {
            "type": "string",
            "format": "uuid",
            "description":"De unieke identifier van deze publicatie"
        },
        "titel": {
            "type": "string",
            "format": "text",
            "description":"De titel (naam) van een publicatie",
            "minLength": 25,
            "maxLength": 255,
            "required": true
        },
        "samenvatting": {
            "type": "string",
            "format": "text",
            "description":"Een korte samenvatting van de publicatie voor op de overzichts pagina",
            "minLength": 50,
            "maxLength": 255,
            "required": true
        },
        "beschrijving": {
            "type": "string",
            "format": "text",
            "description":"Een uitgebreide beschrijving van de publicatie voor weergave op de publicatie pagina",
            "maxLength": 2555,
            "required": true
        },
        "afbeelding": {
            "type": "string",
            "format": ["url","base64"],
            "description":"Een afbeelding voor bij de publicatie, mag worden opgegeven als verwijzing `url` of `base64` encoded image"
        },
        "categorie": {
            "type": "string",
            "description":"De categorie waarbinnen de publicatie valt, dit kunnen zelf gedefineerde categorien zijn of vooraf gedefineerd categorien",
            "minLength": 25,
            "maxLength": 255,
            "required": true
        },
        "portal": {
            "type": "string",
            "format": "url",
            "description":"Een optionele verwijzing naar een afwijkende publicatie pagina, bijvoorbeeld in het RIS"
        },
        "publicatiedatum": {
            "description": "Datum vanaf wanneer deze publicatie vindbaar moet zijn, dit mag een datum in de toekomst of verleden zijn. Publicaties waarbij deze datum in de toekomst ligt of leeg is worden NIET weergegeven",
            "type": "string",
            "format": "date-time",
            "default": "now"
        },
        "featured": {
            "description": "Datum vanaf wanneer deze publicatie vindbaar moet zijn, dit mag een datum in de toekomst of verleden zijn. Publicaties waarbij deze datum in de toekomst ligt of leeg is worden NIET weergegeven",
            "type": "boolean",
            "default": false
        },
        "organisatie": {
            "type": "object",
            "$ref": "https://commongateway.nl/woo.organisatie.schema.json",
            "format": "json",
            "description": "De organisatie horende bij dit publicatie object, in theorie kunnen meerdere organisaties één Open Index installatie delen maar we ontraden dit."
        },
        "schema": {
            "type": "string",
            "format": "url",
            "description":"Een publiek toegankenlijke verwijzing naar het object type (in schema.json) van de gepubliceerde data. Deze word zowel gebruikt om de aangeleverde data te valideren als eventueele afnemers te voorzien van context over de gevonden data",
            "required": true
        },
        "bijlagen": {
            "type": "array",
            "items": {
                "$ref": "https://commongateway.nl/woo.bijlage.schema.json"
            },
            "format": "json"
        },
        "onderwerp": {
            "type": "object",
            "$ref": "https://docs.openwoo.app/schemas/onderwerp.schema.json",
            "format": "json"
        },
        "data": {
            "type": "object",
            "format": "json",
            "description":"Het daad werkenlijk te publiceren object (mag niet groter zijn dan 15 mb)"
        }
    },
    "required": [
        "titel",
        "samenvatting",
        "beschrijving",
        "categorie",
        "metadata"
    ]
}